\begin{figure}[h]
    \begin{minipage}[t]{0.5\textwidth}
        \centering
        \begin{algorithmic}
            \Function{Foo}{$N: \mathbb{N}$}
                \State $i \gets 0$
                \While{$i < N$}
                    \State \Call{Print}{$i$}
                    \State $i \gets i + 1$
                \EndWhile
            \EndFunction
        \end{algorithmic}
    \end{minipage}
    \begin{minipage}[t]{0.5\textwidth}
        \centering
        \begin{algorithmic}
            \Function{FooDuffed}{$N: \mathbb{N}$}
                \State $i \gets 0$
                \State $N' \gets (N + (4 - 1)) / 4$
`               \Switch{$N \mod 4$}
                    \Case{$0$}
                        \State \Call{Print}{$i$}
                        \State $i \gets i + 1$
                    \EndCase
                    \Case{$3$}
                        \State \Call{Print}{$i$}
                        \State $i \gets i + 1$
                    \EndCase
                    \Case{$2$}
                        \State \Call{Print}{$i$}
                        \State $i \gets i + 1$
                    \EndCase
                    \Case{$1$}
                        \State \Call{Print}{$i$}
                        \State $i \gets i + 1$
                    \EndCase
                \EndSwitch
                \While{$(N' - 1) > 0$}
                    \State \Call{Print}{$i$}
                    \State \Call{Print}{$i + 1$}
                    \State \Call{Print}{$i + 2$}
                    \State \Call{Print}{$i + 3$}
                    \State $i \gets i + 4$
                    \State $N' \gets N' - 1$
                \EndWhile
            \EndFunction
        \end{algorithmic}
    \end{minipage}
    \caption{A simple loop unrolled using firm}
    \label{fig:basics:duff}
\end{figure}